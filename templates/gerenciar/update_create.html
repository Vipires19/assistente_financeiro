{% extends 'base_dashboard.html' %}

{% block title %}Publicar novidade - Leozera{% endblock %}

{% block content %}
<div class="container-fluid py-6 px-4" style="background: var(--content-bg); min-height: 100%;">
    <div class="max-w-3xl mx-auto">
        <!-- Voltar -->
        <a href="{% url 'core:novidades' %}" class="inline-flex items-center gap-2 text-gray-400 hover:text-white transition mb-6 no-underline">
            <i class="bi bi-arrow-left"></i> Voltar
        </a>

        <!-- Cabe√ßalho -->
        <header class="mb-8">
            <div class="flex items-center gap-3 mb-2">
                <span class="text-3xl" aria-hidden="true">üì¢</span>
                <h1 class="text-2xl font-bold text-white m-0">Publicar novidade</h1>
            </div>
            <p class="text-gray-400 text-base m-0">Comunique novas funcionalidades, melhorias ou corre√ß√µes para os usu√°rios do Leozera.</p>
        </header>

        <!-- Card do formul√°rio -->
        <div class="max-w-3xl mx-auto bg-[#1E293B] rounded-2xl shadow-xl border border-white/10 p-8">
            <form method="post" action="{% url 'core:admin_create_update' %}" class="space-y-6">
                {% csrf_token %}

                <!-- Dica UX -->
                <p class="text-sm text-gray-400 mb-2">Dica: Seja claro e explique como o usu√°rio pode usar a nova funcionalidade.</p>

                <div class="space-y-5">
                    <!-- Campo TIPO -->
                    <div>
                        <label for="id_tipo" class="block text-sm font-medium text-gray-200 mb-1">Tipo</label>
                        <select name="tipo" id="id_tipo" required class="w-full px-4 py-3 rounded-lg bg-[#020617] border border-white/10 text-gray-200 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent outline-none transition">
                            {% for t in tipos %}
                            <option value="{{ t }}">{{ t }}</option>
                            {% endfor %}
                        </select>
                        <p class="mt-1.5 text-xs text-gray-500">Selecione o tipo de atualiza√ß√£o que ser√° publicada.</p>
                    </div>

                    <!-- Campo T√çTULO -->
                    <div>
                        <label for="id_titulo" class="block text-sm font-medium text-gray-200 mb-1">T√≠tulo</label>
                        <input type="text" name="titulo" id="id_titulo" required maxlength="200" placeholder="Ex: Exporta√ß√£o de relat√≥rios em PDF" class="w-full px-4 py-3 rounded-lg bg-[#020617] border border-white/10 text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent outline-none transition">
                    </div>

                    <!-- Campo DESCRI√á√ÉO -->
                    <div>
                        <label for="id_descricao" class="block text-sm font-medium text-gray-200 mb-1">Descri√ß√£o</label>
                        <textarea name="descricao" id="id_descricao" class="w-full px-4 py-3 min-h-[160px] rounded-lg bg-[#020617] border border-white/10 text-gray-200 placeholder-gray-500 focus:ring-2 focus:ring-[#2563EB] focus:border-transparent outline-none transition resize-y" placeholder="Explique a novidade para os usu√°rios do Leozera. Voc√™ pode incluir: o que mudou, como usar e os benef√≠cios da atualiza√ß√£o."></textarea>
                    </div>
                </div>

                <!-- Bot√µes -->
                <div class="flex flex-wrap gap-3 pt-2">
                    <button type="submit" class="bg-gradient-to-r from-[#2563EB] to-[#00F7D3] text-[#020617] font-semibold px-6 py-3 rounded-lg hover:scale-105 transition transform">
                        Publicar
                    </button>
                    <a href="{% url 'core:novidades' %}" class="border border-white/20 text-gray-300 px-6 py-3 rounded-lg hover:bg-white/5 transition inline-block no-underline">
                        Cancelar
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}
